<!DOCTYPE html>
<html>
<head>
	<meta charset="utf8">
	<title>上/下拉刷新</title>
	<meta name="viewport" content="maximum-scale=3, minimum-scale=1, width=320, user-scalable=no" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="format-detection" content="telephone=no" />
	<!--STYLE_PLACEHOLDER-->
	<style>
	html,body{
		height: 100%;
	}
	*{
		margin: 0;
		padding: 0;
	}
	.scroller-wrap{
		height: 100%;
		background: #dcdcdc;
	}
	.scroller{
		position: relative;
		background: #fff;
	}
	.down,
	.up{
		position: absolute;
		height: 40px;
		width: 100%;
		left: 0;
		font-size: 14px;
		line-height: 40px;
		text-align: center;
		background: #dcdcdc;
		color: #fff;
	}
	.down{
		top: -40px;
	}
	.up{
		bottom: -40px;
	}
	</style>
</head>
<body>

<div class="scroller-wrap">
	<div class="scroller">
		<div class="scroller-content">
			1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>1<br>
		</div>
		<div class="down">下拉刷新</div>
		<div class="up">上拉刷新</div>
	</div>
</div>

<script src="../../mod/mod.js"></script>
<!--RESOURCEMAP_PLACEHOLDER-->
<!--SCRIPT_PLACEHOLDER-->
<script>
	var $ = require('Zepto');
	var refresh = require('refresh');
	var $up = $('.up');
	var $down = $('.down');

	refresh({
		container: '.scroller-wrap',
		distance: 40,
		pullUpAction: function(scroller){
			$up.text('加载中...');
			//模拟加载过程
			setTimeout(function(){
				$up.text('上拉刷新');
				scroller.refresh();
			}, 1000);
		},
		pullDownAction: function(scroller){
			$down.text('加载中...');
			//模拟加载过程
			setTimeout(function(){
				$down.text('下拉刷新');
				scroller.refresh();
			}, 1000);
		}
	});
</script>
</body>
</html>